aW1wb3J0IG9zLCB1dWlkLCBzdHJpbmcsIHRpbWUsIHJhbmRvbSwgc2lnbmFsLCB0aHJlYWRpbmcsIHN1YnByb2Nlc3MKaW1wb3J0IGN0eXBlcywgb3MsIHNvY2tldCwgY29sb3JhbWEsIHV1aWQsIGJhc2U2NApjbGVhciA9IGxhbWJkYSA6IHN1YnByb2Nlc3MuY2FsbCgnY2xzfHxjbGVhcicsIHNoZWxsPVRydWUpCm9zLnN5c3RlbSgncHl0aG9uLmV4ZSAtbSBwaXAgaW5zdGFsbCBweXNvY2tzJykKb3Muc3lzdGVtKCdweXRob24uZXhlIC1tIHBpcCBpbnN0YWxsIC1VIHJlcXVlc3RzW3NvY2tzXScpCnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3B5dGhvbi5leGllIC1tIHBpcCBpbnN0YWxsIHJlcXVlc3RzJykKICAgIGltcG9ydCByZXF1ZXN0cwoKdHJ5OgogICAgaW1wb3J0IGNvbG9yYW1hCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIG9zLnN5c3RlbSgncHl0aG9uLmV4ZSAtbSBwaXAgaW5zdGFsbCBjb2xvcmFtYScpCiAgICBpbXBvcnQgY29sb3JhbWEKCnRyeToKICAgIGltcG9ydCBhdXRvcHkKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdweXRob24uZXhlIC1tIHBpcCBpbnN0YWxsIGF1dG9weScpCiAgICBpbXBvcnQgYXV0b3B5CgpjbGVhcigpCmNvbG9yYW1hLmluaXQoKQoKY2xhc3MgVEhSSURJTkc6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRhcmdldCk6CiAgICAgICAgc2VsZi50aHJlYWRzX2xpc3QgPSBbXQogICAgICAgIHNlbGYudGFyZ2V0ID0gdGFyZ2V0CgogICAgZGVmIGdlbihzZWxmLCB0aHJlYWRzKToKICAgICAgICBmb3IgaSBpbiByYW5nZSh0aHJlYWRzKToKICAgICAgICAgICAgdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PShzZWxmLnRhcmdldCkpCiAgICAgICAgICAgIHQuc2V0RGFlbW9uKFRydWUpCiAgICAgICAgICAgIHNlbGYudGhyZWFkc19saXN0LmFwcGVuZCh0KQoKICAgICAgICByZXR1cm4gc2VsZi50aHJlYWRzX2xpc3QKCiAgICBkZWYgc3RhcnQoc2VsZik6CiAgICAgICAgZm9yIHRocmVhZF9zdGFydCBpbiBzZWxmLnRocmVhZHNfbGlzdDoKICAgICAgICAgICAgdGhyZWFkX3N0YXJ0LnN0YXJ0KCkKCiAgICBkZWYgam9pbihzZWxmKToKICAgICAgICBmb3IgdGhyZWFkX2pvaW4gaW4gc2VsZi50aHJlYWRzX2xpc3Q6CiAgICAgICAgICAgIHRocmVhZF9qb2luLmpvaW4oKQoKCmNsYXNzIERFU0lHTjoKICAgIFdISVRFID0gJ1x4MWJbMTszNzs0MG0nCiAgICBZRUxMT1cgPSAnXHgxYlsxOzMzOzQwbScKICAgIFJFRCA9ICdceDFiWzE7MzE7NDBtJwogICAgQkxVRSA9ICdceDFiWzM2bVx4MWJbNDBtJwogICAgR1JFRU4gPSAnXHgxYlszMm1ceDFiWzQwbScKICAgIGdyZWVucGx1cyA9IGYie1dISVRFfVsge0dSRUVOfSt7V0hJVEV9IF0iCiAgICBibHVlcGx1cyA9IGYie1dISVRFfVsge0JMVUV9K3tXSElURX0gXSIKICAgIHJlZG1pbnVzID0gZiJ7V0hJVEV9WyB7UkVEfS17V0hJVEV9IF0iCiAgICBibHVlcHJveGllcyA9IGYie1dISVRFfVsge0JMVUV9UFJPWElFUyB7V0hJVEV9XSIKICAgIHJlZHByb3hpZXMgPSBmIntXSElURX1bIHtSRUR9UFJPWElFUyB7V0hJVEV9XSIKICAgIGJsdWVhY2NvdW50cyA9IGYie1dISVRFfVsge0JMVUV9QUNDT1VOVFMge1dISVRFfV0iCiAgICByZWRhY2NvdW50cyA9IGYie1dISVRFfVsge1JFRH1BQ0NPVU5UUyB7V0hJVEV9XSIKICAgIGJsdWV6ZXJvID0gZiJ7V0hJVEV9WyB7QkxVRX0wIHtXSElURX1dIgogICAgYmx1ZW9uZSA9IGYie1dISVRFfVsge0JMVUV9MSB7V0hJVEV9XSIKICAgIGJsdWV0d28gPSBmIntXSElURX1bIHtCTFVFfTIge1dISVRFfV0iCiAgICB4cmJsdWUgPSBmIlxue2JsdWVwbHVzfSAxNERheSBCeXBhc3Mge0JMVUV9LyB7WUVMTE9XfUluc3RhZ3JhbSA
